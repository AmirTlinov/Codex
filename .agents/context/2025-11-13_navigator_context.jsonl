{"source":"agent","summary":["Implemented streaming text ingestion: IndexBuilder now enqueues UTF-8 payloads to a bounded queue, tokio workers compress FileText blocks off-thread, and fingerprint guards skip stale jobs so symbol ingest never stalls"],"citation":"codex-rs/navigator/src/index/text.rs"}
{"source":"agent","summary":["Text profile now performs trigram-filtered memmem scans over FileText, reports per-hit match_count, and ships highlight spans that the CLI renders inline"],"citation":"codex-rs/navigator/src/index/search.rs"}
{"source":"agent","summary":["Added diff-style snippet markers and adaptive planner autopick so literal/regex queries stream mini-diffs and automatically switch to the text profile with explainable hints"],"citation":"codex-rs/navigator/src/index/search.rs"}
{"source":"agent","summary":["Navigator now emits score_reasons per hit and the CLI supports numbered filter chips with --remove-chip, making contextual ranking explanations and facet history manageable without extra flags"],"citation":"codex-rs/navigator/src/index/search.rs"}
{"source":"agent","summary":["Coverage diagnostics feed a new CoverageContext so ranking highlights files with pending/error ingest across symbol and literal hits","Search responses append succinct health hints derived from the latest diagnostics so CLI summaries surface guardrail state"],"citation":"codex-rs/navigator/src/index/search.rs;codex-rs/navigator/src/index/mod.rs"}
{"source":"agent","summary":["Profiler aggregates stage hotspots (avg/p95/max per phase) and exposes them via /v1/nav/profile + CLI so matcher/glob/IO regressions pop instantly"],"citation":"codex-rs/navigator/src/index/mod.rs;codex-rs/navigator/src/proto.rs;codex-rs/cli/src/code_nav.rs"}
{"source":"agent","summary":["Facet command supports presets: saved ActiveFilters live in queries dir, CLI can list/apply/delete them, and --save-preset snapshots the current filter stack for instant reuse"],"citation":"codex-rs/cli/src/nav_history.rs;codex-rs/cli/src/code_nav.rs;codex-rs/docs/navigator.md"}
{"source":"agent","summary":["Navigator now emits facet_suggestions built from facet stats; CLI shows ready-to-run commands (lang/docs/tests/owners/recent) so narrowing search больше не требует ручного подбора фильтров"],"citation":"codex-rs/navigator/src/index/mod.rs;codex-rs/navigator/src/proto.rs;codex-rs/cli/src/code_nav.rs"}
{"source":"agent","summary":["Facet suggestions сохраняются в history и могут применяться через `codex navigator facet --suggestion <n>`; CLI автоматически подставляет язык/категорию/owner/recent фильтры без ручного ввода"],"citation":"codex-rs/cli/src/nav_history.rs;codex-rs/cli/src/code_nav.rs;codex-rs/docs/navigator.md"}
{"source":"agent","summary":["Navigator CLI auto-applies the top facet suggestion when hits exceed configured thresholds, prints an auto-facet banner, and can be disabled via NAVIGATOR_AUTO_FACET.","Coverage diagnostics now feed pending/error/skipped reasons into heuristic_score, so hits show \"coverage skipped\" reasons and get boosted when health reports issues."],"citation":"codex-rs/cli/src/code_nav.rs;codex-rs/navigator/src/index/search.rs"}
{"source":"agent","summary":["Auto facet heuristics live in codex-navigator::auto_facet, returning NavigatorSearchArgs decisions that both CLI and future handlers can reuse.","CLI nav/facet history commands call the shared helper and expose --suggestion/history reuse, keeping navigator-focused UX consistent."],"citation":"codex-rs/navigator/src/auto_facet.rs;codex-rs/cli/src/code_nav.rs"}
{"source":"agent","summary":["Navigator handler теперь повторно запускает поиск через автофасет-модуль, если выдача перегружена, и добавляет hint в результат, так что ИИ получает ужатые хиты без ручных команд."],"citation":"codex-rs/core/src/tools/handlers/navigator.rs"}
{"source":"agent","summary":["Auto facet цепляет до двух подсказок подряд: мы считаем уже применённые фильтры через hints, пропускаем дубликаты и наследуем историю, поэтому цепочки lang=rust → tests → owner=core выполняются автоматически."],"citation":"codex-rs/navigator/src/auto_facet.rs"}
{"source":"agent","summary":["CLI и core-обработчик используют ту же автофасет-петлю: оба повторно планируют поиск, логируют auto facet баннер и добавляют подсказку в результаты; документация/TODO описывает многошаговое поведение."],"citation":"codex-rs/cli/src/code_nav.rs;codex-rs/core/src/tools/handlers/navigator.rs;codex-rs/docs/navigator.md;codex-rs/navigator/TODO.md"}
{"source":"agent","summary":["История теперь работает как стек фильтров: `--history-stack <n>` очищает предыдущие фильтры и восстанавливает комбинацию из history[n], `--remove-history-stack <n>` снимает её через remove-ops, а CLI/hints объясняют действие."],"citation":"codex-rs/cli/src/code_nav.rs;codex-rs/docs/navigator.md;codex-rs/navigator/TODO.md"}
{"source":"agent","summary":["`codex navigator history` получил готовые команды (stack/clear/repeat/suggestion) и флаг `--json`, так что history можно переиспользовать без доп. когнитивной нагрузки."],"citation":"codex-rs/cli/src/code_nav.rs;codex-rs/cli/src/nav_history.rs;codex-rs/docs/navigator.md"}
{"source":"agent","summary":["История поддерживает фильтрацию (`--contains`) и pinned-режим (`--pinned`), поэтому нужные стеки находятся мгновенно, а JSON-ответ ограничивается совпадениями."],"citation":"codex-rs/cli/src/code_nav.rs;codex-rs/docs/navigator.md"}
{"source":"agent","summary":["History команды позволяют сразу запускать действия: `--stack`, `--clear-stack`, `--repeat` используют те же механизмы, что facet/repeat, так что стек можно применить/снять или повторить поиск без ручных команд."],"citation":"codex-rs/cli/src/code_nav.rs"}
{"source":"agent","summary":["Navigator history переехала в общий модуль: CLI и core handler используют одни и те же структуры/файлы, записывают hits/suggestions, а freeform payload `history` (stack/clear/repeat, pinned) теперь напрямую переиспользует прошлые запросы","Navigator handler записывает каждую выдачу в history.json и может повторить/модифицировать старые фильтры без CLI, так что ИИ-агент управляет всей историей через инструмент"],"citation":"codex-rs/navigator/src/history.rs;codex-rs/navigator/src/freeform.rs;codex-rs/core/src/tools/handlers/navigator.rs;codex-rs/cli/src/nav_history.rs;codex-rs/cli/src/code_nav.rs"}
{"source":"agent","summary":["Navigator добавил history_list: любой инструментальный вызов `{"action":"history_list"}` или быстрая команда `history list` возвращает JSON со свежими/pinned запросами (индекс, возраст, фильтры, хиты, suggestions, признак repeat)","Handler и CLI используют общий модуль history, поэтому ИИ может сначала прочитать историю, потом вызвать `history stack`/`history repeat` без чтения TUI"],"citation":"codex-rs/navigator/src/history.rs;codex-rs/navigator/src/freeform.rs;codex-rs/core/src/tools/handlers/navigator.rs;codex-rs/cli/src/code_nav.rs;codex-rs/docs/navigator.md"}
{"source":"agent","summary":["Navigator поддерживает payload `history` с mode `suggestion`: ИИ может выбрать history[index], указать suggestion индекс и запустить фильтрацию без CLI","Parser/документация объясняют `history list` + `history suggestion`, TUI по-прежнему показывает только статус"],"citation":"codex-rs/navigator/src/freeform.rs;codex-rs/core/src/tools/handlers/navigator.rs;codex-rs/docs/navigator.md"}
{"source":"agent","summary":["CLI diagnostics теперь выводит coverage и health подсказки: риск, топ issues, подсказки и советы, так что оператор сразу видит, почему выдача шумит"],"citation":"codex-rs/cli/src/code_nav.rs;codex-rs/docs/navigator.md"}
{"source":"agent","summary":["Navigator получил режим insights: /v1/nav/insights агрегирует attention/lint/ownership hotspot'ы и возвращает score_reasons, CLI/handler/freeform воспринимают {\"action\":\"insights\"} и команда `codex navigator insights` выводит текст/JSON.","Документация/TODO обновлены: новый эпик 'Workspace Insights' фиксирует дальнейшие шаги, инструкции описывают payload и пользовательский поток."],"citation":"codex-rs/navigator/src/insights.rs;codex-rs/navigator/src/proto.rs;codex-rs/cli/src/code_nav.rs;codex-rs/core/src/tools/handlers/navigator.rs;codex-rs/docs/navigator.md;codex-rs/navigator/TODO.md;codex-rs/navigator/navigator_tool_instructions.md"}
{"source":"agent","summary":["Planner и handler теперь подмешивают подсказку hotspot перед пустыми запросами: helper `maybe_seed_hotspot_hint` тянет top insight и записывает hint `hotspot: …`, чтобы сеансы начинались с готового прыжка.","CLI получил `codex navigator insights --apply N` и общий список hotspot'ов; `--apply` запускает поиск по выбранному пути (профиль files), а TUI по‑прежнему отображает только статус."],"citation":"codex-rs/navigator/src/advisor.rs;codex-rs/cli/src/code_nav.rs;codex-rs/core/src/tools/handlers/navigator.rs;codex-rs/cli/tests/navigator_nav.rs"}
{"source":"agent","summary":["Инсайты теперь ведут историю: InsightHistoryStore держит последние снапшоты, вычисляет trend_summary (новые/закрытые hotspots) и пишет их в /v1/nav/insights, health panel и diagnostics.","CLI поддерживает отображение трендов и показывает их в `navigator doctor`; команда `insights --apply` запускает поиск по hotspot, а planner/handler автоматически добавляют hint `hotspot: …` для пустых запросов."],"citation":"codex-rs/navigator/src/index/insight_history.rs;codex-rs/navigator/src/index/mod.rs;codex-rs/navigator/src/proto.rs;codex-rs/cli/src/code_nav.rs;codex-rs/docs/navigator.md"}
